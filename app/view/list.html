<div class="jumbotron fullheight">
    <div class="container fullheight">
        <div class="row">
            <div class="col-md-8">
                <div class="pull-right">
                    <button type="button" class="btn btn-primary" data-ng-click="newPlayer()">{{'new_player'| i18n}}
                    </button>
                </div>
                <h2 class="text-muted" id="pageHeader">
                    {{(title) ? title : "Players list"}}
                </h2>
                <small ng-hide="showSubTitle">
                    {{'In this page you can customize the look and the functionality of your players'|i18n}}
                </small>
            </div>
            <div class="col-md-4">
                <form class="form-inline" id="listsearch" role="search">
                    <input type="text" typeahead="player.name for player in data | filter:$viewValue | limitTo:8"
                           class="form-control" placeholder="{{'Search by name or tag'| i18n}}"
                           ng-model="search">
                </form>
            </div>
        </div>
        <div id='playerList' class="row maxViewPort">
            <div class="row">
                <div class="col-md-3 col-sm-4 col-xs-4">{{'Preview'| i18n }}</div>
                <div class="col-xs-3">{{ 'Name' | i18n }}</div>
                <div class="col-xs-1">{{ 'ID' | i18n }}</div>
                <div class="col-xs-1">{{ 'Save Date' | i18n }}</div>
                <div class="col-md-1 visible-lg">{{ 'Creation Date' | i18n }}</div>
                <div class="col-xs-3">{{ 'Actions' | i18n }}</div>
            </div>
            <div class="scroller" ng-iscroll="1" ng-iscroll-delay='500' >
                <div>
                    <div class="row" on-finish-render
                         ng-repeat="item in filtered = (data| filter:search) |  startFrom:(currentPage - 1) * maxSize | limitTo:maxSize">
                        <div class="col-md-3 col-sm-4 col-xs-4"><img class="playerThumb"
                                                                     ng-src="{{getThumbnail(item)}}"/></div>
                        <div class="col-xs-3"><a data-ng-click="goToEditPage(item)"
                                                 ng-href="edit/{{item.id}}">{{item.name}}</a>

                            <div class=" alert alert-warning" ng-show="checkVersionNeedsUpgrade(item.version)">
                                <small>{{' This player is out dated
                                    - please update'| i18n}}
                                </small>
                            </div>
                        </div>
                        <div class="col-xs-1">{{item.id}}</div>
                        <div class="col-xs-1"><span class="timeago" timestamp="{{item.createdAt}}"></span></div>
                        <div class="visible-lg col-md-1"><span class="timeago"
                                                               timestamp="{{item.updatedAt}}"></span>
                        </div>
                        <div class="actionBtns col-xs-3">
                            <button type="button" class="btn btn-link" ng-click="duplicate(item)"><span
                                    class="glyphicon glyphicon-plus-sign"></span> {{'Duplicate'| i18n}}
                            </button>
                            <button type="button" class="btn btn-link" ng-click="delete(item)"><span
                                    class="glyphicon glyphicon-remove"></span> {{'Delete'| i18n}}
                            </button>
                            <button type="button" class="btn btn-link" ng-click="preview(item)"><span
                                    class="glyphicon glyphicon-eye-open"></span> {{'Preview'| i18n}}
                            </button>
                            <button type="button" class="btn btn-link"
                                    ng-show="checkVersionNeedsUpgrade(item.version)"
                                    ng-click="update(item)"><span class="glyphicon glyphicon-edit"></span>
                                {{'Update'|
                                i18n}}
                            </button>
                            <i class="glyphicon glyphicon-ok-circle"
                               tooltip="{{'The player version is upto date'|i18n}}"
                               ng-show="!checkVersionNeedsUpgrade(item.version)"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row text-center">
            <div class="pull-right">
                <form class="form-inline" role="form">
                    <label class="padTop" for="maxSizeSelect">
                        <small> {{filtered.length}} Players in total, Show</small>
                    </label>

                    <div class="form-group">
                        <select class="form-control" id="maxSizeSelect" ng-model="maxSize">
                            <option>5</option>
                            <option>10</option>
                            <option>15</option>
                            <option>20</option>
                        </select>
                    </div>
                    <small> per page</small>
                </form>
            </div>
            <pagination ng-show='filtered.length > maxSize' previous-text='&laquo;' next-text='&raquo;'
                        page="currentPage" total-items="filtered.length" items-per-page="maxSize"></pagination>
        </div>
    </div>
</div>